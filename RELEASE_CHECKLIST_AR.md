# Checklist إطلاق الويب/PWA (مختصر وآمن)

## 1) تحديث شعار التثبيت (PWA)

ضع الشعار النهائي بنفس الأسماء التالية داخل `public/`:
- `pwa-192x192.png`
- `pwa-512x512.png`
- `maskable-512x512.png`

> هذه هي أيقونات التثبيت على شاشة الهاتف من المتصفح.

## 2) رفع `icon revision`

قبل البناء، غيّر قيمة متغير البيئة `VITE_ICON_REV` (أي قيمة جديدة تكفي)، مثال:

- PowerShell:
  - `$env:VITE_ICON_REV='2026-02-14-r2'`

هذا يضمن cache-busting لملف manifest/icons بعد النشر.

## 3) تحقق محلي قبل النشر

- `npm run verify`
- أو لتنفيذ تحقق + توليد `icon revision` تلقائيًا: `npm run release:web:auto-icon`

## 4) النشر

انشر مخرجات `dist` كالمعتاد على الاستضافة.

## 5) ما المتوقع للمستخدمين الحاليين؟

- التطبيق مفعّل على `autoUpdate` مع فحص دوري وتحديث تلقائي.
- غالبًا سيظهر التحديث بدون Hard Reset.
- ملاحظة نظامية: بعض launchers في أندرويد قد تؤخر تحديث أيقونة الشاشة الرئيسية قليلًا (سلوك نظام، وليس خطأ بالتطبيق).

## 6) فحص post-deploy سريع

- افتح التطبيق من المتصفح وتأكد من manifest الجديد.
- على جهاز مثبت PWA، أغلق/افتح التطبيق وتحقق من:
  - سلوك التحديث
  - ظهور الأيقونة الجديدة
